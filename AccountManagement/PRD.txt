except: false
---

Please implement DDD-based microservice architecture code for an event storming model-based domain using Spring Boot 3 and DDD Extension. The code must be implemented strictly based on the metadata provided below:

AccountManagement DDD Model:
{"_type":"BoundedContext","aggregates":[{"_type":"Aggregate","aggregateRoot":{"_type":"AggregateRoot","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"AccountProfile","displayName":"","name":"profile"},{"_type":"FieldDescriptor","className":"AccountRole","displayName":"","name":"role"},{"_type":"FieldDescriptor","className":"AccountStatus","displayName":"","name":"status"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"restrictedReason"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"restrictedAt"}]},"commands":[{"_type":"Command","controllerInfo":{"apiPath":"restrictaccount","fullApiPath":"","method":"PATCH"},"displayName":"계정 제한","examples":[{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":5,"profile":{"email":"choi@test.com","name":"최수진","phoneNumber":"010-5555-4444"},"role":"USER","status":"ACTIVE"}}],"then":[{"name":"AccountRestricted","type":"Event","value":{"accountId":5,"restrictedAt":"2024-06-01T10:00:00Z","restrictedReason":"부정행위 적발","status":"RESTRICTED"}}],"when":[{"name":"RestrictAccount","type":"Command","value":{"accountId":5,"restrictedReason":"부정행위 적발"}}]},{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":6,"profile":{"email":"jung@test.com","name":"정지훈","phoneNumber":"010-3333-2222"},"restrictedAt":"2024-05-01T09:00:00Z","restrictedReason":"신고 누적","role":"USER","status":"RESTRICTED"}}],"then":[{"name":"AccountRestricted","type":"Event","value":{"accountId":6,"restrictedAt":"2024-06-01T11:00:00Z","restrictedReason":"추가 신고","status":"RESTRICTED"}}],"when":[{"name":"RestrictAccount","type":"Command","value":{"accountId":6,"restrictedReason":"추가 신고"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"restrictedReason"}],"isRestRepository":false,"name":"RestrictAccount","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"},{"_type":"Command","controllerInfo":{"apiPath":"modifyaccount","fullApiPath":"","method":"PATCH"},"displayName":"계정 정보 수정","examples":[{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":2,"profile":{"email":"kim@test.com","name":"김철수","phoneNumber":"010-2222-3333"},"role":"USER","status":"ACTIVE"}}],"then":[{"name":"AccountModified","type":"Event","value":{"accountId":2,"profile":{"email":"kim2@test.com","name":"김철수(수정)","phoneNumber":"010-9999-8888"},"role":"CAMPSITE_MANAGER","status":"ACTIVE"}}],"when":[{"name":"ModifyAccount","type":"Command","value":{"accountId":2,"profile":{"email":"kim2@test.com","name":"김철수(수정)","phoneNumber":"010-9999-8888"},"role":"CAMPSITE_MANAGER"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"AccountProfile","displayName":"","name":"profile"},{"_type":"FieldDescriptor","className":"AccountRole","displayName":"","name":"role"}],"isRestRepository":false,"name":"ModifyAccount","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist"},{"_type":"Command","controllerInfo":{"apiPath":"deactivateaccount","fullApiPath":"","method":"PATCH"},"displayName":"계정 비활성화","examples":[{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":3,"profile":{"email":"park@test.com","name":"박영희","phoneNumber":"010-4444-5555"},"role":"USER","status":"ACTIVE"}}],"then":[{"name":"AccountDeactivated","type":"Event","value":{"accountId":3,"status":"DEACTIVATED"}}],"when":[{"name":"DeactivateAccount","type":"Command","value":{"accountId":3}}]},{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":4,"profile":{"email":"lee@test.com","name":"이정민","phoneNumber":"010-7777-6666"},"role":"USER","status":"DEACTIVATED"}}],"then":[{"name":"AccountDeactivated","type":"Event","value":{"accountId":4,"status":"DEACTIVATED"}}],"when":[{"name":"DeactivateAccount","type":"Command","value":{"accountId":4}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"}],"isRestRepository":false,"name":"DeactivateAccount","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"},{"_type":"Command","controllerInfo":{"apiPath":"/createaccount","fullApiPath":"","method":"POST"},"displayName":"계정 생성","examples":[{"given":[{"name":"Account","type":"Aggregate"}],"then":[{"name":"AccountCreated","type":"Event","value":{"accountId":1,"profile":{"email":"hong@test.com","name":"홍길동","phoneNumber":"010-1234-5678"},"role":"USER","status":"ACTIVE"}}],"when":[{"name":"CreateAccount","type":"Command","value":{"profile":{"email":"hong@test.com","name":"홍길동","phoneNumber":"010-1234-5678"},"role":"USER"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"AccountProfile","displayName":"","name":"profile"},{"_type":"FieldDescriptor","className":"AccountRole","displayName":"","name":"role"}],"isRestRepository":false,"name":"CreateAccount","restRepositoryInfo":{"method":"POST"},"trigger":"@PrePersist"}],"displayName":"계정","events":[{"_type":"Event","displayName":"계정 제한됨","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"AccountStatus","displayName":"","name":"status"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"restrictedReason"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"restrictedAt"}],"name":"AccountRestricted","trigger":"","type":"Event"},{"_type":"Event","displayName":"계정 비활성화됨","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"AccountStatus","displayName":"","name":"status"}],"name":"AccountDeactivated","trigger":"","type":"Event"}],"name":"Account","type":"Aggregate","lifeCycles":[{"trigger":"PrePersist","commands":[{"_type":"Command","controllerInfo":{"apiPath":"restrictaccount","fullApiPath":"","method":"PATCH"},"displayName":"계정 제한","examples":[{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":5,"profile":{"email":"choi@test.com","name":"최수진","phoneNumber":"010-5555-4444"},"role":"USER","status":"ACTIVE"}}],"then":[{"name":"AccountRestricted","type":"Event","value":{"accountId":5,"restrictedAt":"2024-06-01T10:00:00Z","restrictedReason":"부정행위 적발","status":"RESTRICTED"}}],"when":[{"name":"RestrictAccount","type":"Command","value":{"accountId":5,"restrictedReason":"부정행위 적발"}}]},{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":6,"profile":{"email":"jung@test.com","name":"정지훈","phoneNumber":"010-3333-2222"},"restrictedAt":"2024-05-01T09:00:00Z","restrictedReason":"신고 누적","role":"USER","status":"RESTRICTED"}}],"then":[{"name":"AccountRestricted","type":"Event","value":{"accountId":6,"restrictedAt":"2024-06-01T11:00:00Z","restrictedReason":"추가 신고","status":"RESTRICTED"}}],"when":[{"name":"RestrictAccount","type":"Command","value":{"accountId":6,"restrictedReason":"추가 신고"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"restrictedReason"}],"isRestRepository":false,"name":"RestrictAccount","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"},{"_type":"Command","controllerInfo":{"apiPath":"modifyaccount","fullApiPath":"","method":"PATCH"},"displayName":"계정 정보 수정","examples":[{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":2,"profile":{"email":"kim@test.com","name":"김철수","phoneNumber":"010-2222-3333"},"role":"USER","status":"ACTIVE"}}],"then":[{"name":"AccountModified","type":"Event","value":{"accountId":2,"profile":{"email":"kim2@test.com","name":"김철수(수정)","phoneNumber":"010-9999-8888"},"role":"CAMPSITE_MANAGER","status":"ACTIVE"}}],"when":[{"name":"ModifyAccount","type":"Command","value":{"accountId":2,"profile":{"email":"kim2@test.com","name":"김철수(수정)","phoneNumber":"010-9999-8888"},"role":"CAMPSITE_MANAGER"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"AccountProfile","displayName":"","name":"profile"},{"_type":"FieldDescriptor","className":"AccountRole","displayName":"","name":"role"}],"isRestRepository":false,"name":"ModifyAccount","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist"},{"_type":"Command","controllerInfo":{"apiPath":"deactivateaccount","fullApiPath":"","method":"PATCH"},"displayName":"계정 비활성화","examples":[{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":3,"profile":{"email":"park@test.com","name":"박영희","phoneNumber":"010-4444-5555"},"role":"USER","status":"ACTIVE"}}],"then":[{"name":"AccountDeactivated","type":"Event","value":{"accountId":3,"status":"DEACTIVATED"}}],"when":[{"name":"DeactivateAccount","type":"Command","value":{"accountId":3}}]},{"given":[{"name":"Account","type":"Aggregate","value":{"accountId":4,"profile":{"email":"lee@test.com","name":"이정민","phoneNumber":"010-7777-6666"},"role":"USER","status":"DEACTIVATED"}}],"then":[{"name":"AccountDeactivated","type":"Event","value":{"accountId":4,"status":"DEACTIVATED"}}],"when":[{"name":"DeactivateAccount","type":"Command","value":{"accountId":4}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"}],"isRestRepository":false,"name":"DeactivateAccount","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"},{"_type":"Command","controllerInfo":{"apiPath":"/createaccount","fullApiPath":"","method":"POST"},"displayName":"계정 생성","examples":[{"given":[{"name":"Account","type":"Aggregate"}],"then":[{"name":"AccountCreated","type":"Event","value":{"accountId":1,"profile":{"email":"hong@test.com","name":"홍길동","phoneNumber":"010-1234-5678"},"role":"USER","status":"ACTIVE"}}],"when":[{"name":"CreateAccount","type":"Command","value":{"profile":{"email":"hong@test.com","name":"홍길동","phoneNumber":"010-1234-5678"},"role":"USER"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"AccountProfile","displayName":"","name":"profile"},{"_type":"FieldDescriptor","className":"AccountRole","displayName":"","name":"role"}],"isRestRepository":false,"name":"CreateAccount","restRepositoryInfo":{"method":"POST"},"trigger":"@PrePersist"}]}]},{"_type":"Aggregate","aggregateRoot":{"_type":"AggregateRoot","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"restrictionHistoryId"},{"_type":"FieldDescriptor","className":"AccountId","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"RestrictionReason","displayName":"","name":"reason"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"description"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"createdAt"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"releasedAt"},{"_type":"FieldDescriptor","className":"Boolean","displayName":"","name":"status"}]},"commands":[{"_type":"Command","controllerInfo":{"apiPath":"imposerestriction","fullApiPath":"","method":"POST"},"displayName":"계정 제재 이력 등록","examples":[{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT","restrictionHistoryId":1001,"status":false}}],"then":[{"name":"RestrictionImposed","type":"Event","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT","restrictionHistoryId":1002,"status":true}}],"when":[{"name":"ImposeRestriction","type":"Command","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT"}}]},{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2002},"createdAt":"2024-06-02T09:00:00Z","description":"악의적 예약 취소","reason":"FRAUD","restrictionHistoryId":1003,"status":true}}],"then":[{"name":"RestrictionImposed","type":"Event","value":{"accountId":{"accountId":2002},"createdAt":"2024-06-02T09:00:00Z","description":"악의적 예약 취소","reason":"FRAUD","restrictionHistoryId":1003,"status":true}}],"when":[{"name":"ImposeRestriction","type":"Command","value":{"accountId":{"accountId":2002},"createdAt":"2024-06-02T09:00:00Z","description":"악의적 예약 취소","reason":"FRAUD"}}]},{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2003},"createdAt":"2024-06-03T08:00:00Z","description":"스팸성 활동","reason":"SPAM","restrictionHistoryId":1004,"status":true}}],"then":[{"name":"RestrictionImposed","type":"Event","value":{"accountId":{"accountId":2003},"createdAt":"2024-06-03T08:00:00Z","description":"스팸성 활동","reason":"SPAM","restrictionHistoryId":1004,"status":true}}],"when":[{"name":"ImposeRestriction","type":"Command","value":{"accountId":{"accountId":2003},"createdAt":"2024-06-03T08:00:00Z","description":"스팸성 활동","reason":"SPAM"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"AccountId","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"RestrictionReason","displayName":"","name":"reason"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"description"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"createdAt"}],"isRestRepository":false,"name":"ImposeRestriction","restRepositoryInfo":{"method":"POST"},"trigger":"@PrePersist"},{"_type":"Command","controllerInfo":{"apiPath":"releaserestriction","fullApiPath":"","method":"PATCH"},"displayName":"계정 제재 해제","examples":[{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT","restrictionHistoryId":1002,"status":true}}],"then":[{"name":"RestrictionReleased","type":"Event","value":{"releasedAt":"2024-06-10T12:00:00Z","restrictionHistoryId":1002,"status":false}}],"when":[{"name":"ReleaseRestriction","type":"Command","value":{"releasedAt":"2024-06-10T12:00:00Z","restrictionHistoryId":1002}}]},{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2004},"createdAt":"2024-06-04T11:00:00Z","description":"기타 사유","reason":"OTHER","restrictionHistoryId":1005,"status":true}}],"then":[{"name":"RestrictionReleased","type":"Event","value":{"releasedAt":"2024-06-11T09:00:00Z","restrictionHistoryId":1005,"status":false}}],"when":[{"name":"ReleaseRestriction","type":"Command","value":{"releasedAt":"2024-06-11T09:00:00Z","restrictionHistoryId":1005}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"restrictionHistoryId"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"releasedAt"}],"isRestRepository":false,"name":"ReleaseRestriction","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist"}],"displayName":"제한이력","name":"RestrictionHistory","type":"Aggregate","lifeCycles":[{"trigger":"PrePersist","commands":[{"_type":"Command","controllerInfo":{"apiPath":"imposerestriction","fullApiPath":"","method":"POST"},"displayName":"계정 제재 이력 등록","examples":[{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT","restrictionHistoryId":1001,"status":false}}],"then":[{"name":"RestrictionImposed","type":"Event","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT","restrictionHistoryId":1002,"status":true}}],"when":[{"name":"ImposeRestriction","type":"Command","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT"}}]},{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2002},"createdAt":"2024-06-02T09:00:00Z","description":"악의적 예약 취소","reason":"FRAUD","restrictionHistoryId":1003,"status":true}}],"then":[{"name":"RestrictionImposed","type":"Event","value":{"accountId":{"accountId":2002},"createdAt":"2024-06-02T09:00:00Z","description":"악의적 예약 취소","reason":"FRAUD","restrictionHistoryId":1003,"status":true}}],"when":[{"name":"ImposeRestriction","type":"Command","value":{"accountId":{"accountId":2002},"createdAt":"2024-06-02T09:00:00Z","description":"악의적 예약 취소","reason":"FRAUD"}}]},{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2003},"createdAt":"2024-06-03T08:00:00Z","description":"스팸성 활동","reason":"SPAM","restrictionHistoryId":1004,"status":true}}],"then":[{"name":"RestrictionImposed","type":"Event","value":{"accountId":{"accountId":2003},"createdAt":"2024-06-03T08:00:00Z","description":"스팸성 활동","reason":"SPAM","restrictionHistoryId":1004,"status":true}}],"when":[{"name":"ImposeRestriction","type":"Command","value":{"accountId":{"accountId":2003},"createdAt":"2024-06-03T08:00:00Z","description":"스팸성 활동","reason":"SPAM"}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"AccountId","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"RestrictionReason","displayName":"","name":"reason"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"description"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"createdAt"}],"isRestRepository":false,"name":"ImposeRestriction","restRepositoryInfo":{"method":"POST"},"trigger":"@PrePersist"},{"_type":"Command","controllerInfo":{"apiPath":"releaserestriction","fullApiPath":"","method":"PATCH"},"displayName":"계정 제재 해제","examples":[{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2001},"createdAt":"2024-06-01T10:00:00Z","description":"부적절한 후기 신고 누적","reason":"REPORT","restrictionHistoryId":1002,"status":true}}],"then":[{"name":"RestrictionReleased","type":"Event","value":{"releasedAt":"2024-06-10T12:00:00Z","restrictionHistoryId":1002,"status":false}}],"when":[{"name":"ReleaseRestriction","type":"Command","value":{"releasedAt":"2024-06-10T12:00:00Z","restrictionHistoryId":1002}}]},{"given":[{"name":"RestrictionHistory","type":"Aggregate","value":{"accountId":{"accountId":2004},"createdAt":"2024-06-04T11:00:00Z","description":"기타 사유","reason":"OTHER","restrictionHistoryId":1005,"status":true}}],"then":[{"name":"RestrictionReleased","type":"Event","value":{"releasedAt":"2024-06-11T09:00:00Z","restrictionHistoryId":1005,"status":false}}],"when":[{"name":"ReleaseRestriction","type":"Command","value":{"releasedAt":"2024-06-11T09:00:00Z","restrictionHistoryId":1005}}]}],"fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"restrictionHistoryId"},{"_type":"FieldDescriptor","className":"Date","displayName":"","name":"releasedAt"}],"isRestRepository":false,"name":"ReleaseRestriction","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist"}]}]}],"displayName":"계정관리","name":"AccountManagement","policies":[{"_type":"Policy","displayName":"후기 신고 시 계정 제재 처리","name":"ReviewRestrictionEnforcement","incomingRelations":[{"source":{"_type":"Event","displayName":"후기 블라인드 처리됨","name":"ReviewBlinded","trigger":"","type":"Event","incomingRelations":[{"source":{"_type":"Command","controllerInfo":{"apiPath":"blindreview","fullApiPath":"","method":"PATCH"},"displayName":"후기 블라인드 처리","examples":[{"given":[{"name":"Review","type":"Aggregate","value":{"authorId":2003,"content":"욕설이 포함된 부적절한 후기","createdAt":"N/A","rating":1,"reservationId":1003,"reviewId":3,"status":"WRITTEN","updatedAt":"N/A"}}],"then":[{"name":"ReviewBlinded","type":"Event","value":{"blindReason":"욕설 및 비방","blindedAt":"2024-06-04T09:00:00Z","reviewId":3,"status":"BLINDED"}}],"when":[{"name":"BlindReview","type":"Command","value":{"blindReason":"욕설 및 비방","reviewId":3}}]}],"isRestRepository":false,"name":"BlindReview","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"}}]}}],"type":"Policy"},{"_type":"Policy","displayName":"예약 취소 시 계정 제재/비활성화 처리","name":"ReservationCancellationRestriction","incomingRelations":[{"source":{"_type":"Event","displayName":"사용자에 의해 예약 취소됨","name":"ReservationCancelledByUser","trigger":"","type":"Event","incomingRelations":[{"source":{"_type":"Command","controllerInfo":{"apiPath":"cancelreservationbyuser","fullApiPath":"","method":"PATCH"},"displayName":"사용자 예약 취소","examples":[{"given":[{"name":"Reservation","type":"Aggregate","value":{"accountId":"N/A","campsiteId":{"campsiteId":3006},"createdAt":"N/A","guestCount":2,"refundPolicy":"N/A","reservationDate":"2024-08-20","reservationId":1006,"roomInfo":"F동 601호","status":"CONFIRMED","updatedAt":"N/A","userId":2006}}],"then":[{"name":"ReservationCancelledByUser","type":"Event","value":{"cancelRequestedAt":"2024-08-17T09:00:00Z","refundRequested":true,"reservationId":1006,"status":"CANCELLED"}}],"when":[{"name":"CancelReservationByUser","type":"Command","value":{"cancelRequestedAt":"2024-08-17T09:00:00Z","reservationId":1006}}]}],"isRestRepository":false,"name":"CancelReservationByUser","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"}}]}},{"source":{"_type":"Event","displayName":"관리자에 의해 예약 취소됨","name":"ReservationCancelledByManager","trigger":"","type":"Event","incomingRelations":[{"source":{"_type":"Command","controllerInfo":{"apiPath":"cancelreservationbymanager","fullApiPath":"","method":"PATCH"},"displayName":"관리자 예약 취소","examples":[{"given":[{"name":"Reservation","type":"Aggregate","value":{"accountId":"N/A","campsiteId":{"campsiteId":3007},"createdAt":"N/A","guestCount":5,"refundPolicy":"N/A","reservationDate":"2024-08-25","reservationId":1007,"roomInfo":"G동 701호","status":"CONFIRMED","updatedAt":"N/A","userId":2007}}],"then":[{"name":"ReservationCancelledByManager","type":"Event","value":{"cancelReason":"시설 점검으로 인한 취소","refundRequested":true,"reservationId":1007,"status":"CANCELLED"}}],"when":[{"name":"CancelReservationByManager","type":"Command","value":{"cancelReason":"시설 점검으로 인한 취소","reservationId":1007}}]}],"isRestRepository":false,"name":"CancelReservationByManager","restRepositoryInfo":{"method":"PATCH"},"trigger":"@PrePersist","type":"Command"}}]}}],"type":"Policy"}],"readModels":[{"_type":"View","displayName":"계정 목록 조회","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","name":"id"}],"name":"AccountList","queryOption":{"apiPath":""},"queryParameters":[{"_type":"FieldDescriptor","className":"AccountRole","displayName":"","name":"role"},{"_type":"FieldDescriptor","className":"AccountStatus","displayName":"","name":"status"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"name"},{"_type":"FieldDescriptor","className":"String","displayName":"","name":"email"},{"_type":"FieldDescriptor","className":"Integer","displayName":"","name":"page"},{"_type":"FieldDescriptor","className":"Integer","displayName":"","name":"size"}]},{"_type":"View","displayName":"계정 상세 조회","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","name":"id"}],"name":"AccountDetails","queryOption":{"apiPath":""},"queryParameters":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"accountId"}]},{"_type":"View","displayName":"제재 이력 상세 조회","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","name":"id"}],"name":"RestrictionHistoryDetails","queryOption":{"apiPath":""},"queryParameters":[{"_type":"FieldDescriptor","className":"Long","displayName":"","name":"restrictionHistoryId"}]},{"_type":"View","displayName":"계정 제재 이력 목록 조회","fieldDescriptors":[{"_type":"FieldDescriptor","className":"Long","name":"id"}],"name":"RestrictionHistoryList","queryOption":{"apiPath":""},"queryParameters":[{"_type":"FieldDescriptor","className":"AccountId","displayName":"","name":"accountId"},{"_type":"FieldDescriptor","className":"RestrictionReason","displayName":"","name":"reason"},{"_type":"FieldDescriptor","className":"Boolean","displayName":"","name":"status"},{"_type":"FieldDescriptor","className":"Integer","displayName":"","name":"page"},{"_type":"FieldDescriptor","className":"Integer","displayName":"","name":"size"}]}]}
